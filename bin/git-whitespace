#!/usr/bin/env ruby

def find_and_remove_whitespace(find_arguments)
  `find -E . -type f #{find_arguments} | xargs perl -pi -e 's/ +$//g'`
end

# Files in nested directories without extensions
find_and_remove_whitespace '-regex "(Capfile|Rakefile|README|TODO)"'

# Files in nested directories with the given extensions.
find_and_remove_whitespace '-regex ".*\.(builder|css|erb|haml|html|icalendar|js|rake|rb|yml)"'
